<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Announcing pgxmock v3 - Elevating Mocking for PostgreSQL in Go! | Pavlo pg Golub</title>
    <meta name="author" content="Pavlo pg Golub">
    <meta name="description" content="I am thrilled to introduce the much-anticipated major release of pgxmock v3! This release represents a  significant leap forward in enhancing your PostgreSQL database mocking experience in Go.
">
    <meta name="keywords" content="pasha_golub, postgresql, ukraine, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%95%8A%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://pashagolub.github.io/blog/2023/announcing-pgxmock-v3/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Pavlo </span>pg Golub</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/repositories/">repositories</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Announcing pgxmock v3 - Elevating Mocking for PostgreSQL in Go!</h1>
    <p class="post-meta">September 20, 2023</p>
    <p class="post-tags">
      <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a>
        ·  
        <a href="/blog/tag/golang">
          <i class="fas fa-hashtag fa-sm"></i> golang</a>  
          <a href="/blog/tag/pgxmock">
          <i class="fas fa-hashtag fa-sm"></i> pgxmock</a>  
          <a href="/blog/tag/what-s-new">
          <i class="fas fa-hashtag fa-sm"></i> what's new</a>  
          <a href="/blog/tag/postgresql">
          <i class="fas fa-hashtag fa-sm"></i> postgresql</a>  
          <a href="/blog/tag/personal">
          <i class="fas fa-hashtag fa-sm"></i> personal</a>  
          

    </p>
  </header>

  <article class="post-content">
    <p>I am thrilled to introduce the much-anticipated major release of <strong><a href="https://github.com/pashagolub/pgxmock/releases/tag/v3.0.0" rel="external nofollow noopener" target="_blank">pgxmock v3</a></strong>! This release represents a significant leap forward in enhancing your PostgreSQL database mocking experience in Go.</p>

<p>Here’s a quick overview of the exciting changes and additions in this release:</p>

<h2 id="high-priority-new-features">High-Priority New Features</h2>

<h3 id="rewrite-with-findexpectationfunc">Rewrite with <code class="language-plaintext highlighter-rouge">findExpectationFunc()</code>
</h3>
<p>I’ve completely overhauled the internals of <code class="language-plaintext highlighter-rouge">pgxmock</code> by rewriting all methods using <code class="language-plaintext highlighter-rouge">findExpectationFunc()</code>. This improvement allows us to add even more custom expectations without writing a duplicate code. The only thing we will need is a custom callback function to compare a new kind of expectation.</p>

<h3 id="enhanced-expectations">Enhanced Expectations</h3>
<p>I’ve expanded the capabilities of <strong>all</strong> expectations with new methods like <code class="language-plaintext highlighter-rouge">WillDelayFor()</code>, <code class="language-plaintext highlighter-rouge">WillReturnError()</code>, and <code class="language-plaintext highlighter-rouge">WillPanic()</code>. Now you have even more control over how your mock database behaves in various scenarios.</p>

<h3 id="introducing-times-and-maybe">Introducing <code class="language-plaintext highlighter-rouge">Times()</code> and <code class="language-plaintext highlighter-rouge">Maybe()</code>
</h3>
<p>I’m introducing the <code class="language-plaintext highlighter-rouge">Times()</code> method, allowing you to specify how many times an expectation should be met. This feature enhances the flexibility of your mock database interactions. Meanwhile <code class="language-plaintext highlighter-rouge">Maybe()</code> method allows the expectation to be optional. Not calling an optional method will not cause an error while asserting expectations.</p>

<h2 id="new-features">New Features</h2>

<h3 id="improved-test-coverage-">Improved Test Coverage <a href="https://coveralls.io/github/pashagolub/pgxmock?branch=master" rel="external nofollow noopener" target="_blank"><img src="https://coveralls.io/repos/github/pashagolub/pgxmock/badge.svg?branch=master" alt="Coverage Status"></a>
</h3>
<p>I’ve extended test coverage, ensuring that <code class="language-plaintext highlighter-rouge">pgxmock</code> remains a reliable choice for your testing needs. To make the testing even more comprehensive, I’ve added several new test cases, e.g., <code class="language-plaintext highlighter-rouge">TestRowsConn()</code> and <code class="language-plaintext highlighter-rouge">TestPanic()</code>. These scenarios cover a wider range of potential use cases. They will help us to eliminate possible bugs in the future.</p>

<h3 id="keeping-up-with-the-times">Keeping Up with the Times</h3>
<p>I’m staying up-to-date with the latest developments. In this release, I’ve bumped up the Go version to v1.21, ensuring compatibility and leveraging the newest features of the language.</p>

<h3 id="introducing-callmodifier-interface">Introducing CallModifier Interface</h3>
<p>I’ve introduced the <code class="language-plaintext highlighter-rouge">CallModifier</code> interface to expectations, providing greater control and customization when working with mock database calls. All expectations currently support common behavior modifiers, like delay, error, and panic. We can extend the list later with ease.</p>

<h2 id="ready-to-upgrade">Ready to Upgrade?</h2>

<p>I encourage all users to upgrade to <strong>pgxmock v3</strong> to take advantage of these exciting enhancements and improvements. Whether you’re a long-time user or just getting started with pgxmock, these changes will elevate your database mocking experience to new heights.</p>

<p>To get started with pgxmock v3, simply update your import statement:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="s">"github.com/pashagolub/pgxmock/v3"</span>
</code></pre></div></div>

<p>and/or run</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go get <span class="nt">-u</span> github.com/pashagolub/pgxmock/v3
</code></pre></div></div>

<p>Thank you for your continued support and feedback. I look forward to seeing how <strong>pgxmock v3</strong> empowers your PostgreSQL database testing. If you have any questions or need assistance with the upgrade, feel free to reach out to me on <a href="https://github.com/pashagolub/pgxmock" rel="external nofollow noopener" target="_blank">GitHub</a>.</p>

<p>Happy mocking!</p>

<p>Truly yours,
Pavlo Golub<br>
Author of <strong>pgxmock</strong> 💙💛</p>

  </article>


  
    
    <br>
    <hr>
    <br>
    <ul class="list-disc pl-8"></ul>

    <!-- Adds related posts to the end of an article -->
    <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2>
    <p class="mb-2">Here are some more articles you might like to read next:</p>
  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/rdbms-on-stack-overflow-trends/">RDBMS on Stack Overflow trends</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/chm-manual-for-postgresql-96/">CHM-manual for PostgreSQL 9.6</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/serial-identity-mix/">Serial-Identity mix</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/hackers-and-bugs-lists-migration-and-gmails-filters/">Hackers and Bugs lists migration and GMail’s filters</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/some-warsaw-pgconfeu-photos/">Some Warsaw pgconf.eu photos</a>
  </li>

</div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2024 Pavlo pg Golub. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.
Last updated: January 25, 2024.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
